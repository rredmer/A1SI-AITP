openapi: 3.0.3
info:
  title: A1SI-AITP API
  version: 0.1.0
  description: Full-stack crypto investment platform â€” portfolio, trading, market
    analysis, risk management, backtesting, and ML.
paths:
  /api/audit-log/:
    get:
      operationId: audit_log_retrieve
      parameters:
      - in: query
        name: action
        schema:
          type: string
        description: Filter by action (case-insensitive contains)
      - in: query
        name: created_after
        schema:
          type: string
        description: Filter entries after this ISO datetime
      - in: query
        name: created_before
        schema:
          type: string
        description: Filter entries before this ISO datetime
      - in: query
        name: limit
        schema:
          type: integer
        description: Max results (default 50, max 200)
      - in: query
        name: offset
        schema:
          type: integer
        description: Pagination offset (default 0)
      - in: query
        name: status_code
        schema:
          type: integer
        description: Filter by HTTP status code
      - in: query
        name: user
        schema:
          type: string
        description: Filter by username
      tags:
      - Core
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/auth/login/:
    post:
      operationId: auth_login_create
      tags:
      - auth
      security:
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/auth/logout/:
    post:
      operationId: auth_logout_create
      tags:
      - auth
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/auth/status/:
    get:
      operationId: auth_status_retrieve
      tags:
      - auth
      security:
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/backtest/compare/:
    get:
      operationId: backtest_compare_retrieve
      tags:
      - Backtest
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestComparison'
          description: ''
  /api/backtest/results/:
    get:
      operationId: backtest_results_list
      parameters:
      - in: query
        name: asset_class
        schema:
          type: string
          enum:
          - crypto
          - equity
          - forex
        description: Filter by asset class
      - in: query
        name: limit
        schema:
          type: integer
        description: Max results (default 20, max 100)
      tags:
      - Backtest
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BacktestResult'
          description: ''
  /api/backtest/results/{result_id}/:
    get:
      operationId: backtest_results_retrieve
      parameters:
      - in: path
        name: result_id
        schema:
          type: integer
        required: true
      tags:
      - Backtest
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BacktestResult'
          description: ''
  /api/backtest/run/:
    post:
      operationId: backtest_run_create
      tags:
      - Backtest
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BacktestRequest'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobAccepted'
          description: ''
  /api/backtest/strategies/:
    get:
      operationId: backtest_strategies_list
      tags:
      - Backtest
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StrategyInfo'
          description: ''
  /api/dashboard/kpis/:
    get:
      operationId: dashboard_kpis_retrieve
      parameters:
      - in: query
        name: asset_class
        schema:
          type: string
          enum:
          - crypto
          - equity
          - forex
        description: Filter KPIs by asset class
      tags:
      - Core
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/data/:
    get:
      operationId: data_list
      tags:
      - Data
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataFileInfo'
          description: ''
  /api/data-sources/:
    get:
      operationId: data_sources_list
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataSourceConfig'
          description: ''
    post:
      operationId: data_sources_create
      tags:
      - Market
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataSourceConfigCreate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataSourceConfig'
          description: ''
  /api/data-sources/{id}/:
    get:
      operationId: data_sources_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataSourceConfig'
          description: ''
    put:
      operationId: data_sources_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataSourceConfigCreate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataSourceConfig'
          description: ''
    delete:
      operationId: data_sources_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/data/{exchange}/{symbol}/{timeframe}/:
    get:
      operationId: data_retrieve
      parameters:
      - in: path
        name: exchange
        schema:
          type: string
        required: true
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      - in: path
        name: timeframe
        schema:
          type: string
        required: true
      tags:
      - Data
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataFileInfo'
          description: ''
  /api/data/download/:
    post:
      operationId: data_download_create
      tags:
      - Data
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataDownloadRequest'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobAccepted'
          description: ''
  /api/data/generate-sample/:
    post:
      operationId: data_generate_sample_create
      tags:
      - Data
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              symbols:
                type: array
                items:
                  type: string
              timeframes:
                type: array
                items:
                  type: string
              days:
                type: integer
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobAccepted'
          description: ''
  /api/data/quality/:
    get:
      operationId: data_quality_retrieve
      tags:
      - Data
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataQualitySummary'
          description: ''
  /api/data/quality/{symbol}/{timeframe}/:
    get:
      operationId: data_quality_retrieve_2
      parameters:
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      - in: path
        name: timeframe
        schema:
          type: string
        required: true
      tags:
      - Data
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataQualityReport'
          description: ''
  /api/exchange-configs/:
    get:
      operationId: exchange_configs_list
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExchangeConfig'
          description: ''
    post:
      operationId: exchange_configs_create
      tags:
      - Market
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExchangeConfigCreate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeConfig'
          description: ''
  /api/exchange-configs/{id}/:
    get:
      operationId: exchange_configs_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeConfig'
          description: ''
    put:
      operationId: exchange_configs_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExchangeConfigUpdate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeConfig'
          description: ''
    delete:
      operationId: exchange_configs_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/exchange-configs/{id}/test/:
    post:
      operationId: exchange_configs_test_create
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeTestResult'
          description: ''
  /api/exchanges/:
    get:
      operationId: exchanges_list
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExchangeInfo'
          description: ''
  /api/health/:
    get:
      operationId: health_retrieve
      tags:
      - Core
      security:
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/indicators/:
    get:
      operationId: indicators_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/indicators/{exchange}/{symbol}/{timeframe}/:
    get:
      operationId: indicators_retrieve_2
      parameters:
      - in: path
        name: exchange
        schema:
          type: string
        required: true
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      - in: path
        name: timeframe
        schema:
          type: string
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/jobs/:
    get:
      operationId: jobs_list
      tags:
      - Jobs
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Job'
          description: ''
  /api/jobs/{job_id}/:
    get:
      operationId: jobs_retrieve
      parameters:
      - in: path
        name: job_id
        schema:
          type: string
        required: true
      tags:
      - Jobs
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Job'
          description: ''
  /api/jobs/{job_id}/cancel/:
    post:
      operationId: jobs_cancel_create
      parameters:
      - in: path
        name: job_id
        schema:
          type: string
        required: true
      tags:
      - Jobs
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/live-trading/status/:
    get:
      operationId: live_trading_status_retrieve
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/circuit-breaker/:
    get:
      operationId: market_circuit_breaker_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: market_circuit_breaker_create
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/news/:
    get:
      operationId: market_news_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/news/fetch/:
    post:
      operationId: market_news_fetch_create
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/news/sentiment/:
    get:
      operationId: market_news_sentiment_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/news/signal/:
    get:
      operationId: market_news_signal_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/ohlcv/{symbol}/:
    get:
      operationId: market_ohlcv_list
      parameters:
      - in: query
        name: asset_class
        schema:
          type: string
          enum:
          - crypto
          - equity
          - forex
        description: 'Asset class (default: crypto)'
      - in: query
        name: limit
        schema:
          type: integer
        description: Max candles (default 100, max 1000)
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      - in: query
        name: timeframe
        schema:
          type: string
          enum:
          - 15m
          - 1d
          - 1h
          - 1m
          - 4h
          - 5m
        description: 'Candlestick timeframe (default: 1h)'
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OHLCVData'
          description: ''
  /api/market/status/:
    get:
      operationId: market_status_retrieve
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/market/ticker/{symbol}/:
    get:
      operationId: market_ticker_retrieve
      parameters:
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TickerData'
          description: ''
  /api/market/tickers/:
    get:
      operationId: market_tickers_list
      parameters:
      - in: query
        name: asset_class
        schema:
          type: string
          enum:
          - crypto
          - equity
          - forex
        description: 'Asset class (default: crypto)'
      - in: query
        name: symbols
        schema:
          type: string
        description: Comma-separated symbol list (max 50)
      tags:
      - Market
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TickerData'
          description: ''
  /api/ml/models/:
    get:
      operationId: ml_models_retrieve
      tags:
      - ML
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/ml/models/{model_id}/:
    get:
      operationId: ml_models_retrieve_2
      parameters:
      - in: path
        name: model_id
        schema:
          type: string
        required: true
      tags:
      - ML
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/ml/predict/:
    post:
      operationId: ml_predict_create
      tags:
      - ML
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              model_id:
                type: string
              symbol:
                type: string
              timeframe:
                type: string
              exchange:
                type: string
              bars:
                type: integer
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/ml/train/:
    post:
      operationId: ml_train_create
      tags:
      - ML
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MLTrainRequest'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobAccepted'
          description: ''
  /api/notifications/{portfolio_id}/preferences/:
    get:
      operationId: notifications_preferences_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Notifications
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    put:
      operationId: notifications_preferences_update
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Notifications
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/balance/:
    get:
      operationId: paper_trading_balance_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/history/:
    get:
      operationId: paper_trading_history_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/log/:
    get:
      operationId: paper_trading_log_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/performance/:
    get:
      operationId: paper_trading_performance_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/profit/:
    get:
      operationId: paper_trading_profit_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/start/:
    post:
      operationId: paper_trading_start_create
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/status/:
    get:
      operationId: paper_trading_status_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/stop/:
    post:
      operationId: paper_trading_stop_create
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/paper-trading/trades/:
    get:
      operationId: paper_trading_trades_retrieve
      tags:
      - Paper Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/platform/config/:
    get:
      operationId: platform_config_retrieve
      tags:
      - Core
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/platform/status/:
    get:
      operationId: platform_status_retrieve
      tags:
      - Core
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/portfolios/:
    get:
      operationId: portfolios_list
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Portfolio'
          description: ''
    post:
      operationId: portfolios_create
      tags:
      - Portfolio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PortfolioCreate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Portfolio'
          description: ''
  /api/portfolios/{portfolio_id}/:
    get:
      operationId: portfolios_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Portfolio'
          description: ''
    put:
      operationId: portfolios_update
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PortfolioUpdate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Portfolio'
          description: ''
    patch:
      operationId: portfolios_partial_update
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPortfolioUpdate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Portfolio'
          description: ''
    delete:
      operationId: portfolios_destroy
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/portfolios/{portfolio_id}/allocation/:
    get:
      operationId: portfolios_allocation_list
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocationItem'
          description: ''
  /api/portfolios/{portfolio_id}/holdings/:
    post:
      operationId: portfolios_holdings_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HoldingCreate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Holding'
          description: ''
  /api/portfolios/{portfolio_id}/holdings/{holding_id}/:
    put:
      operationId: portfolios_holdings_update
      parameters:
      - in: path
        name: holding_id
        schema:
          type: integer
        required: true
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HoldingUpdate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Holding'
          description: ''
    delete:
      operationId: portfolios_holdings_destroy
      parameters:
      - in: path
        name: holding_id
        schema:
          type: integer
        required: true
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/portfolios/{portfolio_id}/summary/:
    get:
      operationId: portfolios_summary_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Portfolio
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PortfolioSummary'
          description: ''
  /api/regime/current/:
    get:
      operationId: regime_current_list
      tags:
      - Regime
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RegimeState'
          description: ''
  /api/regime/current/{symbol}/:
    get:
      operationId: regime_current_retrieve
      parameters:
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      tags:
      - Regime
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegimeState'
          description: ''
  /api/regime/history/{symbol}/:
    get:
      operationId: regime_history_list
      parameters:
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      tags:
      - Regime
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RegimeHistoryEntry'
          description: ''
  /api/regime/position-size/:
    post:
      operationId: regime_position_size_create
      tags:
      - Regime
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegimePositionSizeRequest'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegimePositionSizeResponse'
          description: ''
  /api/regime/recommendation/{symbol}/:
    get:
      operationId: regime_recommendation_retrieve
      parameters:
      - in: path
        name: symbol
        schema:
          type: string
        required: true
      tags:
      - Regime
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoutingDecision'
          description: ''
  /api/regime/recommendations/:
    get:
      operationId: regime_recommendations_list
      tags:
      - Regime
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RoutingDecision'
          description: ''
  /api/risk/{portfolio_id}/alerts/:
    get:
      operationId: risk_alerts_list
      parameters:
      - in: query
        name: created_after
        schema:
          type: string
        description: Filter alerts after this ISO datetime
      - in: query
        name: created_before
        schema:
          type: string
        description: Filter alerts before this ISO datetime
      - in: query
        name: event_type
        schema:
          type: string
        description: Filter by event type
      - in: query
        name: limit
        schema:
          type: integer
        description: Max results (default 50, max 200)
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      - in: query
        name: severity
        schema:
          type: string
        description: Filter by severity level
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AlertLog'
          description: ''
  /api/risk/{portfolio_id}/check-trade/:
    post:
      operationId: risk_check_trade_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TradeCheckRequest'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TradeCheckResponse'
          description: ''
  /api/risk/{portfolio_id}/equity/:
    post:
      operationId: risk_equity_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EquityUpdate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskStatus'
          description: ''
  /api/risk/{portfolio_id}/halt/:
    post:
      operationId: risk_halt_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HaltRequest'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HaltResponse'
          description: ''
  /api/risk/{portfolio_id}/heat-check/:
    get:
      operationId: risk_heat_check_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HeatCheckResponse'
          description: ''
  /api/risk/{portfolio_id}/limit-history/:
    get:
      operationId: risk_limit_history_list
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RiskLimitChange'
          description: ''
  /api/risk/{portfolio_id}/limits/:
    get:
      operationId: risk_limits_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskLimits'
          description: ''
    put:
      operationId: risk_limits_update
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RiskLimitsUpdate'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskLimits'
          description: ''
  /api/risk/{portfolio_id}/metric-history/:
    get:
      operationId: risk_metric_history_list
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RiskMetricHistory'
          description: ''
  /api/risk/{portfolio_id}/position-size/:
    post:
      operationId: risk_position_size_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PositionSizeRequest'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PositionSizeResponse'
          description: ''
  /api/risk/{portfolio_id}/record-metrics/:
    post:
      operationId: risk_record_metrics_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskMetricHistory'
          description: ''
  /api/risk/{portfolio_id}/reset-daily/:
    post:
      operationId: risk_reset_daily_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskStatus'
          description: ''
  /api/risk/{portfolio_id}/resume/:
    post:
      operationId: risk_resume_create
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HaltResponse'
          description: ''
  /api/risk/{portfolio_id}/status/:
    get:
      operationId: risk_status_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskStatus'
          description: ''
  /api/risk/{portfolio_id}/trade-log/:
    get:
      operationId: risk_trade_log_list
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TradeCheckLog'
          description: ''
  /api/risk/{portfolio_id}/var/:
    get:
      operationId: risk_var_retrieve
      parameters:
      - in: path
        name: portfolio_id
        schema:
          type: integer
        required: true
      tags:
      - Risk
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VaRResponse'
          description: ''
  /api/scheduler/status/:
    get:
      operationId: scheduler_status_retrieve
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/scheduler/tasks/:
    get:
      operationId: scheduler_tasks_retrieve
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/scheduler/tasks/{task_id}/:
    get:
      operationId: scheduler_tasks_retrieve_2
      parameters:
      - in: path
        name: task_id
        schema:
          type: string
        required: true
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/scheduler/tasks/{task_id}/pause/:
    post:
      operationId: scheduler_tasks_pause_create
      parameters:
      - in: path
        name: task_id
        schema:
          type: string
        required: true
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/scheduler/tasks/{task_id}/resume/:
    post:
      operationId: scheduler_tasks_resume_create
      parameters:
      - in: path
        name: task_id
        schema:
          type: string
        required: true
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/scheduler/tasks/{task_id}/trigger/:
    post:
      operationId: scheduler_tasks_trigger_create
      parameters:
      - in: path
        name: task_id
        schema:
          type: string
        required: true
      tags:
      - Scheduler
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/screening/results/:
    get:
      operationId: screening_results_list
      tags:
      - Screening
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScreenResult'
          description: ''
  /api/screening/results/{result_id}/:
    get:
      operationId: screening_results_retrieve
      parameters:
      - in: path
        name: result_id
        schema:
          type: integer
        required: true
      tags:
      - Screening
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScreenResult'
          description: ''
  /api/screening/run/:
    post:
      operationId: screening_run_create
      tags:
      - Screening
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScreenRequest'
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobAccepted'
          description: ''
  /api/screening/strategies/:
    get:
      operationId: screening_strategies_retrieve
      tags:
      - Screening
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/trading/cancel-all/:
    post:
      operationId: trading_cancel_all_create
      tags:
      - Trading
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelAll'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelAllResponse'
          description: ''
  /api/trading/exchange-health/:
    get:
      operationId: trading_exchange_health_retrieve
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeHealth'
          description: ''
  /api/trading/orders/:
    get:
      operationId: trading_orders_list
      parameters:
      - in: query
        name: asset_class
        schema:
          type: string
          enum:
          - crypto
          - equity
          - forex
        description: Filter by asset class
      - in: query
        name: date_from
        schema:
          type: string
        description: Filter orders after this ISO datetime
      - in: query
        name: date_to
        schema:
          type: string
        description: Filter orders before this ISO datetime
      - in: query
        name: limit
        schema:
          type: integer
        description: Max results (default 50, max 200)
      - in: query
        name: mode
        schema:
          type: string
          enum:
          - live
          - paper
        description: Filter by trading mode
      - in: query
        name: status
        schema:
          type: string
          enum:
          - cancelled
          - error
          - filled
          - open
          - partial_fill
          - pending
          - rejected
          - submitted
        description: Filter by order status
      - in: query
        name: symbol
        schema:
          type: string
        description: Filter by symbol (case-insensitive contains)
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Order'
          description: ''
    post:
      operationId: trading_orders_create
      tags:
      - Trading
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderCreate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
          description: ''
  /api/trading/orders/{order_id}/:
    get:
      operationId: trading_orders_retrieve
      parameters:
      - in: path
        name: order_id
        schema:
          type: integer
        required: true
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
          description: ''
  /api/trading/orders/{order_id}/cancel/:
    post:
      operationId: trading_orders_cancel_create
      parameters:
      - in: path
        name: order_id
        schema:
          type: integer
        required: true
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
          description: ''
  /api/trading/orders/export/:
    get:
      operationId: trading_orders_export_retrieve
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/trading/performance/by-symbol/:
    get:
      operationId: trading_performance_by_symbol_list
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SymbolPerformance'
          description: ''
  /api/trading/performance/summary/:
    get:
      operationId: trading_performance_summary_retrieve
      tags:
      - Trading
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TradingPerformanceSummary'
          description: ''
  /api/workflow-runs/{run_id}/:
    get:
      operationId: workflow_runs_retrieve
      parameters:
      - in: path
        name: run_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkflowRunDetail'
          description: ''
  /api/workflow-runs/{run_id}/cancel/:
    post:
      operationId: workflow_runs_cancel_create
      parameters:
      - in: path
        name: run_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/workflow-steps/:
    get:
      operationId: workflow_steps_retrieve
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/workflows/:
    get:
      operationId: workflows_list
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WorkflowList'
          description: ''
    post:
      operationId: workflows_create
      tags:
      - Workflows
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowCreate'
        required: true
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkflowDetail'
          description: ''
  /api/workflows/{workflow_id}/:
    get:
      operationId: workflows_retrieve
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkflowDetail'
          description: ''
    delete:
      operationId: workflows_destroy
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/workflows/{workflow_id}/disable/:
    post:
      operationId: workflows_disable_create
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/workflows/{workflow_id}/enable/:
    post:
      operationId: workflows_enable_create
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/workflows/{workflow_id}/runs/:
    get:
      operationId: workflows_runs_list
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WorkflowRunList'
          description: ''
  /api/workflows/{workflow_id}/trigger/:
    post:
      operationId: workflows_trigger_create
      parameters:
      - in: path
        name: workflow_id
        schema:
          type: string
        required: true
      tags:
      - Workflows
      security:
      - cookieAuth: []
      responses:
        '200':
          description: No response body
components:
  schemas:
    AlertLog:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        portfolio_id:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        event_type:
          type: string
          maxLength: 50
        severity:
          type: string
          maxLength: 20
        message:
          type: string
        channel:
          type: string
          maxLength: 20
        delivered:
          type: boolean
        error:
          type: string
          maxLength: 500
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - event_type
      - id
      - message
      - portfolio_id
      - severity
    AllocationItem:
      type: object
      properties:
        symbol:
          type: string
        amount:
          type: number
          format: double
        current_price:
          type: number
          format: double
        market_value:
          type: number
          format: double
        cost_basis:
          type: number
          format: double
        pnl:
          type: number
          format: double
        pnl_pct:
          type: number
          format: double
        weight:
          type: number
          format: double
        price_stale:
          type: boolean
      required:
      - amount
      - cost_basis
      - current_price
      - market_value
      - pnl
      - pnl_pct
      - price_stale
      - symbol
      - weight
    AssetClassEnum:
      enum:
      - crypto
      - equity
      - forex
      type: string
      description: |-
        * `crypto` - Crypto
        * `equity` - Equity
        * `forex` - Forex
    BacktestComparison:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/BacktestResult'
        comparison:
          type: object
          additionalProperties: {}
      required:
      - comparison
      - results
    BacktestRequest:
      type: object
      properties:
        framework:
          type: string
          default: freqtrade
        strategy:
          type: string
          default: SampleStrategy
          minLength: 1
        symbol:
          type: string
          default: BTC/USDT
          description: Trading pair, e.g. BTC/USDT
          maxLength: 20
          pattern: ^[A-Z0-9]{2,10}/[A-Z0-9]{2,10}$
        timeframe:
          type: string
          default: 1h
          description: Timeframe, e.g. 1h, 4h, 1d
          maxLength: 10
          pattern: ^[0-9]+[smhdwM]$
        timerange:
          type: string
          default: ''
        exchange:
          type: string
          default: binance
          minLength: 1
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
    BacktestResult:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        job_id:
          type: string
          readOnly: true
        framework:
          type: string
          maxLength: 20
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        strategy_name:
          type: string
          maxLength: 100
        symbol:
          type: string
          maxLength: 20
        timeframe:
          type: string
          maxLength: 10
        timerange:
          type: string
          maxLength: 50
        metrics:
          nullable: true
        trades:
          nullable: true
        config:
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - framework
      - id
      - job_id
      - strategy_name
      - symbol
      - timeframe
    CancelAll:
      type: object
      properties:
        portfolio_id:
          type: integer
          minimum: 1
      required:
      - portfolio_id
    CancelAllResponse:
      type: object
      properties:
        cancelled_count:
          type: integer
        portfolio_id:
          type: integer
      required:
      - cancelled_count
      - portfolio_id
    DataDownloadRequest:
      type: object
      properties:
        symbols:
          type: array
          items:
            type: string
          default:
          - BTC/USDT
          - ETH/USDT
        timeframes:
          type: array
          items:
            type: string
          default:
          - 1h
        exchange:
          type: string
          default: binance
          minLength: 1
        since_days:
          type: integer
          maximum: 3650
          minimum: 1
          default: 365
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
    DataFileInfo:
      type: object
      properties:
        exchange:
          type: string
        symbol:
          type: string
        timeframe:
          type: string
        rows:
          type: integer
        start:
          type: string
          nullable: true
        end:
          type: string
          nullable: true
        file:
          type: string
      required:
      - end
      - exchange
      - file
      - rows
      - start
      - symbol
      - timeframe
    DataQualityReport:
      type: object
      properties:
        symbol:
          type: string
        timeframe:
          type: string
        exchange:
          type: string
        rows:
          type: integer
        date_range:
          type: array
          items:
            type: string
            nullable: true
        gaps:
          type: array
          items:
            type: object
            additionalProperties: {}
        nan_columns:
          type: object
          additionalProperties:
            type: integer
        outliers:
          type: array
          items:
            type: object
            additionalProperties: {}
        ohlc_violations:
          type: array
          items:
            type: object
            additionalProperties: {}
        is_stale:
          type: boolean
        stale_hours:
          type: number
          format: double
        passed:
          type: boolean
        issues_summary:
          type: array
          items:
            type: string
      required:
      - date_range
      - exchange
      - gaps
      - is_stale
      - issues_summary
      - nan_columns
      - ohlc_violations
      - outliers
      - passed
      - rows
      - stale_hours
      - symbol
      - timeframe
    DataQualitySummary:
      type: object
      properties:
        total:
          type: integer
        passed:
          type: integer
        failed:
          type: integer
        reports:
          type: array
          items:
            $ref: '#/components/schemas/DataQualityReport'
      required:
      - failed
      - passed
      - reports
      - total
    DataSourceConfig:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        exchange_name:
          type: string
          readOnly: true
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        symbols: {}
        timeframes: {}
        is_active:
          type: boolean
        fetch_interval_minutes:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        last_fetched_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        exchange_config:
          type: integer
          nullable: true
      required:
      - created_at
      - exchange_name
      - id
      - updated_at
    DataSourceConfigCreate:
      type: object
      properties:
        exchange_config:
          type: integer
          nullable: true
        symbols: {}
        timeframes: {}
        is_active:
          type: boolean
        fetch_interval_minutes:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
    EquityUpdate:
      type: object
      properties:
        equity:
          type: number
          format: double
          minimum: 0.0
      required:
      - equity
    ExchangeConfig:
      type: object
      description: Read serializer â€” never exposes raw credentials.
      properties:
        id:
          type: integer
          readOnly: true
        api_key_masked:
          type: string
          readOnly: true
        has_api_key:
          type: boolean
          readOnly: true
        has_api_secret:
          type: boolean
          readOnly: true
        has_passphrase:
          type: boolean
          readOnly: true
        name:
          type: string
          maxLength: 100
        exchange_id:
          $ref: '#/components/schemas/ExchangeIdEnum'
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        is_sandbox:
          type: boolean
        is_default:
          type: boolean
        is_active:
          type: boolean
        last_tested_at:
          type: string
          format: date-time
          nullable: true
        last_test_success:
          type: boolean
          nullable: true
        last_test_error:
          type: string
          maxLength: 500
        options: {}
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - api_key_masked
      - created_at
      - exchange_id
      - has_api_key
      - has_api_secret
      - has_passphrase
      - id
      - name
      - updated_at
    ExchangeConfigCreate:
      type: object
      description: Write serializer for creating exchange configs.
      properties:
        name:
          type: string
          maxLength: 100
        exchange_id:
          $ref: '#/components/schemas/ExchangeIdEnum'
        api_key:
          type: string
        api_secret:
          type: string
        passphrase:
          type: string
        is_sandbox:
          type: boolean
        is_default:
          type: boolean
        is_active:
          type: boolean
        options: {}
      required:
      - exchange_id
      - name
    ExchangeConfigUpdate:
      type: object
      description: Write serializer for updating exchange configs â€” all fields optional.
      properties:
        name:
          type: string
          maxLength: 100
        exchange_id:
          $ref: '#/components/schemas/ExchangeIdEnum'
        api_key:
          type: string
        api_secret:
          type: string
        passphrase:
          type: string
        is_sandbox:
          type: boolean
        is_default:
          type: boolean
        is_active:
          type: boolean
        options: {}
    ExchangeHealth:
      type: object
      properties:
        exchange_id:
          type: string
        connected:
          type: boolean
        latency_ms:
          type: number
          format: double
        last_checked:
          type: string
      required:
      - connected
      - exchange_id
      - last_checked
      - latency_ms
    ExchangeIdEnum:
      enum:
      - binance
      - coinbase
      - kraken
      - kucoin
      - bybit
      - yfinance
      type: string
      description: |-
        * `binance` - Binance
        * `coinbase` - Coinbase
        * `kraken` - Kraken
        * `kucoin` - KuCoin
        * `bybit` - Bybit
        * `yfinance` - Yahoo Finance
    ExchangeInfo:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        countries:
          type: array
          items:
            type: string
          default: []
        has_fetch_tickers:
          type: boolean
          default: false
        has_fetch_ohlcv:
          type: boolean
          default: false
      required:
      - id
      - name
    ExchangeTestResult:
      type: object
      properties:
        success:
          type: boolean
        markets_count:
          type: integer
        message:
          type: string
      required:
      - message
      - success
    HaltRequest:
      type: object
      properties:
        reason:
          type: string
          maxLength: 500
          minLength: 1
      required:
      - reason
    HaltResponse:
      type: object
      properties:
        is_halted:
          type: boolean
        halt_reason:
          type: string
        message:
          type: string
      required:
      - halt_reason
      - is_halted
      - message
    HeatCheckResponse:
      type: object
      properties:
        healthy:
          type: boolean
        issues:
          type: array
          items:
            type: string
        drawdown:
          type: number
          format: double
        daily_pnl:
          type: number
          format: double
        open_positions:
          type: integer
        max_correlation:
          type: number
          format: double
        high_corr_pairs:
          type: array
          items: {}
        max_concentration:
          type: number
          format: double
        position_weights:
          type: object
          additionalProperties: {}
        var_95:
          type: number
          format: double
        var_99:
          type: number
          format: double
        cvar_95:
          type: number
          format: double
        cvar_99:
          type: number
          format: double
        is_halted:
          type: boolean
      required:
      - cvar_95
      - cvar_99
      - daily_pnl
      - drawdown
      - healthy
      - high_corr_pairs
      - is_halted
      - issues
      - max_concentration
      - max_correlation
      - open_positions
      - position_weights
      - var_95
      - var_99
    Holding:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        portfolio_id:
          type: integer
          readOnly: true
        symbol:
          type: string
          maxLength: 20
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        amount:
          type: number
          format: double
        avg_buy_price:
          type: number
          format: double
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - portfolio_id
      - symbol
      - updated_at
    HoldingCreate:
      type: object
      properties:
        symbol:
          type: string
          maxLength: 20
        amount:
          type: number
          format: double
          default: 0.0
        avg_buy_price:
          type: number
          format: double
          default: 0.0
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
      required:
      - symbol
    HoldingUpdate:
      type: object
      properties:
        amount:
          type: number
          format: double
        avg_buy_price:
          type: number
          format: double
    Job:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        job_type:
          type: string
          maxLength: 50
        status:
          type: string
          maxLength: 20
        progress:
          type: number
          format: double
        progress_message:
          type: string
          maxLength: 200
        params:
          nullable: true
        result:
          nullable: true
        error:
          type: string
          nullable: true
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - job_type
    JobAccepted:
      type: object
      properties:
        job_id:
          type: string
        status:
          type: string
      required:
      - job_id
      - status
    MLTrainRequest:
      type: object
      properties:
        symbol:
          type: string
          default: BTC/USDT
        timeframe:
          type: string
          default: 1h
        exchange:
          type: string
          default: binance
        test_ratio:
          type: number
          format: double
          maximum: 0.5
          minimum: 0.05
          default: 0.2
    OHLCVData:
      type: object
      properties:
        timestamp:
          type: integer
        open:
          type: number
          format: double
        high:
          type: number
          format: double
        low:
          type: number
          format: double
        close:
          type: number
          format: double
        volume:
          type: number
          format: double
      required:
      - close
      - high
      - low
      - open
      - timestamp
      - volume
    Order:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        exchange_id:
          type: string
          maxLength: 50
        exchange_order_id:
          type: string
          readOnly: true
        symbol:
          type: string
          maxLength: 20
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        side:
          type: string
          maxLength: 10
        order_type:
          type: string
          maxLength: 20
        amount:
          type: number
          format: double
        price:
          type: number
          format: double
        filled:
          type: number
          format: double
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/OrderStatusEnum'
          readOnly: true
        mode:
          $ref: '#/components/schemas/OrderModeEnum'
        portfolio_id:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        avg_fill_price:
          type: number
          format: double
          readOnly: true
        stop_loss_price:
          type: number
          format: double
          nullable: true
        fee:
          type: number
          format: double
          readOnly: true
        fee_currency:
          type: string
          readOnly: true
        reject_reason:
          type: string
          readOnly: true
        error_message:
          type: string
          readOnly: true
        timestamp:
          type: string
          format: date-time
          readOnly: true
        submitted_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        filled_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        cancelled_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        fill_events:
          type: array
          items:
            $ref: '#/components/schemas/OrderFillEvent'
          readOnly: true
      required:
      - amount
      - avg_fill_price
      - cancelled_at
      - created_at
      - error_message
      - exchange_id
      - exchange_order_id
      - fee
      - fee_currency
      - fill_events
      - filled
      - filled_at
      - id
      - order_type
      - reject_reason
      - side
      - status
      - submitted_at
      - symbol
      - timestamp
      - updated_at
    OrderCreate:
      type: object
      properties:
        symbol:
          type: string
          description: Trading pair, e.g. BTC/USDT
          maxLength: 20
          minLength: 5
          pattern: ^[A-Z0-9]{2,10}/[A-Z0-9]{2,10}$
        side:
          $ref: '#/components/schemas/SideEnum'
        order_type:
          allOf:
          - $ref: '#/components/schemas/OrderTypeEnum'
          default: market
        amount:
          type: number
          format: double
          minimum: 1.0e-08
        price:
          type: number
          format: double
          minimum: 0.0
          default: 0.0
        exchange_id:
          type: string
          default: binance
          maxLength: 50
        mode:
          allOf:
          - $ref: '#/components/schemas/OrderCreateModeEnum'
          default: paper
        portfolio_id:
          type: integer
          minimum: 1
          default: 1
        stop_loss_price:
          type: number
          format: double
          minimum: 0.0
          nullable: true
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
      required:
      - amount
      - side
      - symbol
    OrderCreateModeEnum:
      enum:
      - paper
      - live
      type: string
      description: |-
        * `paper` - paper
        * `live` - live
    OrderFillEvent:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        fill_price:
          type: number
          format: double
        fill_amount:
          type: number
          format: double
        fee:
          type: number
          format: double
        fee_currency:
          type: string
          maxLength: 20
        exchange_trade_id:
          type: string
          maxLength: 100
        filled_at:
          type: string
          format: date-time
      required:
      - fill_amount
      - fill_price
      - id
    OrderModeEnum:
      enum:
      - paper
      - live
      type: string
      description: |-
        * `paper` - Paper
        * `live` - Live
    OrderStatusEnum:
      enum:
      - pending
      - submitted
      - open
      - partial_fill
      - filled
      - cancelled
      - rejected
      - error
      type: string
      description: |-
        * `pending` - Pending
        * `submitted` - Submitted
        * `open` - Open
        * `partial_fill` - Partially Filled
        * `filled` - Filled
        * `cancelled` - Cancelled
        * `rejected` - Rejected
        * `error` - Error
    OrderTypeEnum:
      enum:
      - market
      - limit
      type: string
      description: |-
        * `market` - market
        * `limit` - limit
    PatchedPortfolioUpdate:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
        exchange_id:
          type: string
          maxLength: 50
        description:
          type: string
          maxLength: 500
    Portfolio:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 100
        exchange_id:
          type: string
          maxLength: 50
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        description:
          type: string
          maxLength: 500
        holdings:
          type: array
          items:
            $ref: '#/components/schemas/Holding'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - holdings
      - id
      - name
      - updated_at
    PortfolioCreate:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
        exchange_id:
          type: string
          default: binance
          maxLength: 50
        description:
          type: string
          default: ''
          maxLength: 500
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
      required:
      - name
    PortfolioSummary:
      type: object
      properties:
        total_value:
          type: number
          format: double
        total_cost:
          type: number
          format: double
        unrealized_pnl:
          type: number
          format: double
        pnl_pct:
          type: number
          format: double
        holding_count:
          type: integer
        currency:
          type: string
      required:
      - currency
      - holding_count
      - pnl_pct
      - total_cost
      - total_value
      - unrealized_pnl
    PortfolioUpdate:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
        exchange_id:
          type: string
          maxLength: 50
        description:
          type: string
          maxLength: 500
    PositionSizeRequest:
      type: object
      properties:
        entry_price:
          type: number
          format: double
          minimum: 1.0e-08
        stop_loss_price:
          type: number
          format: double
          minimum: 1.0e-08
        risk_per_trade:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.001
          nullable: true
      required:
      - entry_price
      - stop_loss_price
    PositionSizeResponse:
      type: object
      properties:
        size:
          type: number
          format: double
        risk_amount:
          type: number
          format: double
        position_value:
          type: number
          format: double
      required:
      - position_value
      - risk_amount
      - size
    RegimeHistoryEntry:
      type: object
      properties:
        timestamp:
          type: string
        regime:
          type: string
        confidence:
          type: number
          format: double
        adx_value:
          type: number
          format: double
        bb_width_percentile:
          type: number
          format: double
      required:
      - adx_value
      - bb_width_percentile
      - confidence
      - regime
      - timestamp
    RegimePositionSizeRequest:
      type: object
      properties:
        symbol:
          type: string
          description: Trading pair, e.g. BTC/USDT
          maxLength: 20
          pattern: ^[A-Z0-9]{2,10}/[A-Z0-9]{2,10}$
        entry_price:
          type: number
          format: double
          minimum: 1.0e-08
        stop_loss_price:
          type: number
          format: double
          minimum: 1.0e-08
      required:
      - entry_price
      - stop_loss_price
      - symbol
    RegimePositionSizeResponse:
      type: object
      properties:
        symbol:
          type: string
        regime:
          type: string
        regime_modifier:
          type: number
          format: double
        position_size:
          type: number
          format: double
        entry_price:
          type: number
          format: double
        stop_loss_price:
          type: number
          format: double
        primary_strategy:
          type: string
      required:
      - entry_price
      - position_size
      - primary_strategy
      - regime
      - regime_modifier
      - stop_loss_price
      - symbol
    RegimeState:
      type: object
      properties:
        symbol:
          type: string
        regime:
          type: string
        confidence:
          type: number
          format: double
        adx_value:
          type: number
          format: double
        bb_width_percentile:
          type: number
          format: double
        ema_slope:
          type: number
          format: double
        trend_alignment:
          type: number
          format: double
        price_structure_score:
          type: number
          format: double
        transition_probabilities:
          type: object
          additionalProperties: {}
          default: {}
      required:
      - adx_value
      - bb_width_percentile
      - confidence
      - ema_slope
      - price_structure_score
      - regime
      - symbol
      - trend_alignment
    RiskLimitChange:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        portfolio_id:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        field_name:
          type: string
          maxLength: 50
        old_value:
          type: string
          maxLength: 50
        new_value:
          type: string
          maxLength: 50
        changed_by:
          type: string
          maxLength: 150
        reason:
          type: string
          maxLength: 500
        changed_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - changed_at
      - field_name
      - id
      - new_value
      - old_value
      - portfolio_id
    RiskLimits:
      type: object
      properties:
        max_portfolio_drawdown:
          type: number
          format: double
        max_single_trade_risk:
          type: number
          format: double
        max_daily_loss:
          type: number
          format: double
        max_open_positions:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        max_position_size_pct:
          type: number
          format: double
        max_correlation:
          type: number
          format: double
        min_risk_reward:
          type: number
          format: double
        max_leverage:
          type: number
          format: double
    RiskLimitsUpdate:
      type: object
      properties:
        max_portfolio_drawdown:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.01
        max_single_trade_risk:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.001
        max_daily_loss:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.01
        max_open_positions:
          type: integer
          maximum: 100
          minimum: 1
        max_position_size_pct:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.01
        max_correlation:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.0
        min_risk_reward:
          type: number
          format: double
          maximum: 100.0
          minimum: 0.1
        max_leverage:
          type: number
          format: double
          maximum: 125.0
          minimum: 1.0
        reason:
          type: string
          default: ''
          maxLength: 500
    RiskMetricHistory:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        portfolio_id:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        var_95:
          type: number
          format: double
        var_99:
          type: number
          format: double
        cvar_95:
          type: number
          format: double
        cvar_99:
          type: number
          format: double
        method:
          type: string
          maxLength: 20
        drawdown:
          type: number
          format: double
        equity:
          type: number
          format: double
        open_positions_count:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        recorded_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - id
      - portfolio_id
      - recorded_at
    RiskStatus:
      type: object
      properties:
        equity:
          type: number
          format: double
        peak_equity:
          type: number
          format: double
        drawdown:
          type: number
          format: double
        daily_pnl:
          type: number
          format: double
        total_pnl:
          type: number
          format: double
        open_positions:
          type: integer
        is_halted:
          type: boolean
        halt_reason:
          type: string
      required:
      - daily_pnl
      - drawdown
      - equity
      - halt_reason
      - is_halted
      - open_positions
      - peak_equity
      - total_pnl
    RoutingDecision:
      type: object
      properties:
        symbol:
          type: string
        regime:
          type: string
        confidence:
          type: number
          format: double
        primary_strategy:
          type: string
        weights:
          type: array
          items: {}
        position_size_modifier:
          type: number
          format: double
        reasoning:
          type: string
        sentiment_modifier:
          type: number
          format: double
          nullable: true
      required:
      - confidence
      - position_size_modifier
      - primary_strategy
      - reasoning
      - regime
      - symbol
      - weights
    ScreenRequest:
      type: object
      properties:
        symbol:
          type: string
          default: BTC/USDT
          description: Trading pair, e.g. BTC/USDT
          maxLength: 20
          pattern: ^[A-Z0-9]{2,10}/[A-Z0-9]{2,10}$
        timeframe:
          type: string
          default: 1h
          description: Timeframe, e.g. 1h, 4h, 1d
          maxLength: 10
          pattern: ^[0-9]+[smhdwM]$
        exchange:
          type: string
          default: binance
          minLength: 1
        fees:
          type: number
          format: double
          maximum: 0.1
          minimum: 0.0
          default: 0.001
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
    ScreenResult:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        job_id:
          type: string
          readOnly: true
        symbol:
          type: string
          maxLength: 20
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        timeframe:
          type: string
          maxLength: 10
        strategy_name:
          type: string
          maxLength: 50
        top_results:
          nullable: true
        summary:
          nullable: true
        total_combinations:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - job_id
      - strategy_name
      - symbol
      - timeframe
    SideEnum:
      enum:
      - buy
      - sell
      type: string
      description: |-
        * `buy` - buy
        * `sell` - sell
    Status1b7Enum:
      enum:
      - pending
      - running
      - completed
      - failed
      - cancelled
      type: string
      description: |-
        * `pending` - Pending
        * `running` - Running
        * `completed` - Completed
        * `failed` - Failed
        * `cancelled` - Cancelled
    StrategyInfo:
      type: object
      properties:
        name:
          type: string
        framework:
          type: string
        file_path:
          type: string
      required:
      - file_path
      - framework
      - name
    SymbolPerformance:
      type: object
      properties:
        total_trades:
          type: integer
        win_count:
          type: integer
        loss_count:
          type: integer
        win_rate:
          type: number
          format: double
        total_pnl:
          type: number
          format: double
        avg_win:
          type: number
          format: double
        avg_loss:
          type: number
          format: double
        profit_factor:
          type: number
          format: double
          nullable: true
        best_trade:
          type: number
          format: double
        worst_trade:
          type: number
          format: double
        symbol:
          type: string
      required:
      - avg_loss
      - avg_win
      - best_trade
      - loss_count
      - profit_factor
      - symbol
      - total_pnl
      - total_trades
      - win_count
      - win_rate
      - worst_trade
    TickerData:
      type: object
      properties:
        symbol:
          type: string
        price:
          type: number
          format: double
        volume_24h:
          type: number
          format: double
          default: 0.0
        change_24h:
          type: number
          format: double
          default: 0.0
        high_24h:
          type: number
          format: double
          default: 0.0
        low_24h:
          type: number
          format: double
          default: 0.0
        timestamp:
          type: string
          format: date-time
      required:
      - price
      - symbol
      - timestamp
    TradeCheckLog:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        portfolio_id:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        symbol:
          type: string
          maxLength: 20
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        side:
          type: string
          maxLength: 10
        size:
          type: number
          format: double
        entry_price:
          type: number
          format: double
        stop_loss_price:
          type: number
          format: double
          nullable: true
        approved:
          type: boolean
        reason:
          type: string
          maxLength: 500
        equity_at_check:
          type: number
          format: double
        drawdown_at_check:
          type: number
          format: double
        open_positions_at_check:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        checked_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - approved
      - checked_at
      - entry_price
      - id
      - portfolio_id
      - reason
      - side
      - size
      - symbol
    TradeCheckRequest:
      type: object
      properties:
        symbol:
          type: string
          description: Trading pair, e.g. BTC/USDT
          maxLength: 20
          pattern: ^[A-Z0-9]{2,10}/[A-Z0-9]{2,10}$
        side:
          $ref: '#/components/schemas/SideEnum'
        size:
          type: number
          format: double
          minimum: 1.0e-08
        entry_price:
          type: number
          format: double
          minimum: 1.0e-08
        stop_loss_price:
          type: number
          format: double
          minimum: 0.0
          nullable: true
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
      required:
      - entry_price
      - side
      - size
      - symbol
    TradeCheckResponse:
      type: object
      properties:
        approved:
          type: boolean
        reason:
          type: string
      required:
      - approved
      - reason
    TradingPerformanceSummary:
      type: object
      properties:
        total_trades:
          type: integer
        win_count:
          type: integer
        loss_count:
          type: integer
        win_rate:
          type: number
          format: double
        total_pnl:
          type: number
          format: double
        avg_win:
          type: number
          format: double
        avg_loss:
          type: number
          format: double
        profit_factor:
          type: number
          format: double
          nullable: true
        best_trade:
          type: number
          format: double
        worst_trade:
          type: number
          format: double
      required:
      - avg_loss
      - avg_win
      - best_trade
      - loss_count
      - profit_factor
      - total_pnl
      - total_trades
      - win_count
      - win_rate
      - worst_trade
    TriggerEnum:
      enum:
      - manual
      - scheduled
      - api
      type: string
      description: |-
        * `manual` - Manual
        * `scheduled` - Scheduled
        * `api` - API
    VaRResponse:
      type: object
      properties:
        var_95:
          type: number
          format: double
        var_99:
          type: number
          format: double
        cvar_95:
          type: number
          format: double
        cvar_99:
          type: number
          format: double
        method:
          type: string
        window_days:
          type: integer
      required:
      - cvar_95
      - cvar_99
      - method
      - var_95
      - var_99
      - window_days
    WorkflowCreate:
      type: object
      properties:
        id:
          type: string
          description: Workflow ID (lowercase alphanumeric + underscore)
          maxLength: 50
          pattern: ^[a-z0-9_]+$
        name:
          type: string
          maxLength: 100
        description:
          type: string
          default: ''
        asset_class:
          allOf:
          - $ref: '#/components/schemas/AssetClassEnum'
          default: crypto
        params:
          type: object
          additionalProperties: {}
        schedule_interval_seconds:
          type: integer
          minimum: 60
          nullable: true
        schedule_enabled:
          type: boolean
          default: false
        steps:
          type: array
          items:
            $ref: '#/components/schemas/WorkflowCreateStep'
      required:
      - id
      - name
      - steps
    WorkflowCreateStep:
      type: object
      properties:
        order:
          type: integer
          minimum: 1
        name:
          type: string
          maxLength: 100
        step_type:
          type: string
          maxLength: 50
        params:
          type: object
          additionalProperties: {}
        condition:
          type: string
          default: ''
          maxLength: 200
        timeout_seconds:
          type: integer
          maximum: 3600
          minimum: 1
          default: 300
      required:
      - name
      - order
      - step_type
    WorkflowDetail:
      type: object
      properties:
        id:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 100
        description:
          type: string
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        is_template:
          type: boolean
        is_active:
          type: boolean
        schedule_interval_seconds:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
          nullable: true
        schedule_enabled:
          type: boolean
        params: {}
        last_run_at:
          type: string
          format: date-time
          nullable: true
        run_count:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        steps:
          type: array
          items:
            $ref: '#/components/schemas/WorkflowStep'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - name
      - steps
      - updated_at
    WorkflowList:
      type: object
      properties:
        id:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 100
        description:
          type: string
        asset_class:
          $ref: '#/components/schemas/AssetClassEnum'
        is_template:
          type: boolean
        is_active:
          type: boolean
        schedule_interval_seconds:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
          nullable: true
        schedule_enabled:
          type: boolean
        last_run_at:
          type: string
          format: date-time
          nullable: true
        run_count:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        step_count:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - name
      - step_count
      - updated_at
    WorkflowRunDetail:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        workflow_name:
          type: string
          readOnly: true
        status:
          $ref: '#/components/schemas/Status1b7Enum'
        trigger:
          $ref: '#/components/schemas/TriggerEnum'
        params: {}
        current_step:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        total_steps:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        result:
          nullable: true
        error:
          type: string
          nullable: true
        job_id:
          type: string
          readOnly: true
        step_runs:
          type: array
          items:
            $ref: '#/components/schemas/WorkflowStepRun'
          readOnly: true
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - job_id
      - step_runs
      - workflow_name
    WorkflowRunList:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        workflow_name:
          type: string
          readOnly: true
        status:
          $ref: '#/components/schemas/Status1b7Enum'
        trigger:
          $ref: '#/components/schemas/TriggerEnum'
        current_step:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        total_steps:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        job_id:
          type: string
          readOnly: true
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - job_id
      - workflow_name
    WorkflowStep:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        order:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        name:
          type: string
          maxLength: 100
        step_type:
          type: string
          maxLength: 50
        params: {}
        condition:
          type: string
          maxLength: 200
        timeout_seconds:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
      required:
      - id
      - name
      - order
      - step_type
    WorkflowStepRun:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        order:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        step_name:
          type: string
          readOnly: true
        step_type:
          type: string
          readOnly: true
        status:
          $ref: '#/components/schemas/WorkflowStepRunStatusEnum'
        input_data:
          nullable: true
        result:
          nullable: true
        error:
          type: string
          nullable: true
        condition_met:
          type: boolean
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        duration_seconds:
          type: number
          format: double
          nullable: true
      required:
      - id
      - order
      - step_name
      - step_type
    WorkflowStepRunStatusEnum:
      enum:
      - pending
      - running
      - completed
      - failed
      - skipped
      type: string
      description: |-
        * `pending` - Pending
        * `running` - Running
        * `completed` - Completed
        * `failed` - Failed
        * `skipped` - Skipped
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: __ci_sid
tags:
- name: Auth
  description: Authentication and session management
- name: Portfolio
  description: Portfolio and holdings management
- name: Trading
  description: Order placement, paper trading, live trading
- name: Market
  description: Exchange data, tickers, OHLCV, indicators
- name: Regime
  description: Market regime detection and strategy routing
- name: Risk
  description: Risk management, VaR, kill switch, alerts
- name: Analysis
  description: Backtesting, screening, data pipeline
- name: ML
  description: Machine learning model training and prediction
- name: Scheduler
  description: Task scheduling and automated execution
- name: Platform
  description: Health, status, config, metrics
